# =========================
# .env.sample  (for containers via env_file:)
# =========================

# 実行モード：dryrun | manual | auto
ORDER_MODE=dryrun

# ---- データベース接続（どちらか片方だけ使う） ----
# 1) URL 形式（シンプルでOK）
DATABASE_URL=postgresql://app:app@postgres:5432/boatrace

# 2) キー/バリュー形式（URLミスが怖い人向け）→ 上の DATABASE_URL を消してこちらを使う
#PGHOST=postgres
#PGPORT=5432
#PGDATABASE=boatrace
#PGUSER=app
#PGPASSWORD=app

# ---- Redis（使っている場合）----
REDIS_URL=redis://redis:6379/0

# ---- 締切・資金ガード（必要に応じて調整）----
# 締切の◯秒前でNo-Bet（API/発注処理を停止）
DEADLINE_BUFFER_SEC=20
# 1レースあたりの最大ステーク（JPY）
MAX_STAKE_PER_RACE=2000
# 日次ドローダウンの最大閾値（-0.08 = -8%で自動停止）
DAILY_DD_LIMIT=-0.08

# ---- ログ/サーバ系 ----
LOG_LEVEL=INFO
# Uvicorn のワーカー数（devは1で十分）
UVICORN_WORKERS=1

# ---- タイムゾーン（コンテナ内表示用）----
TZ=Asia/Tokyo

# ---- 外部APIキー等（開発ダミー。必要なければ空のまま）----
# PURCHASE_API_KEY=changeme
# ODDS_FEED_TOKEN=changeme

# ---- 予測/特徴量セットの切替（任意）----
# MODEL_VERSION=v0
# FEATURE_SET=v0

# =========================
# 注意:
# - Windows でも値はダブルクォートで囲まないのが無難（そのまま書く）
# - 「スペース = スペース」は避ける（例: KEY = value はやめて KEY=value）
# - URL を壊しがちなタイプミスに注意：
#     正: postgresql://user:pass@host:5432/dbname
#     誤: postgresqluserpass@host5432dbname  ← 区切り記号抜けで接続失敗
# - キー/バリュー方式を使うときは DATABASE_URL を必ず削除/コメントアウトして重複を防ぐ
# - 本番では Secrets や SSM/Vault を使用し、.env.sample はテンプレ配布用に
